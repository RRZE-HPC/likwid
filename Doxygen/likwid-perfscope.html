<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LIKWID: &lt;CODE&gt;likwid-perfscope&lt;/CODE&gt;</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">LIKWID
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title"><code>likwid-perfscope</code> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Information</h1>
<p><code>likwid-perfscope</code> is a command line application written in Lua that uses the timeline daemon mode of <a class="el" href="likwid-perfctr.html"><code>likwid-perfctr</code></a> to create on-the-fly pictures with the current measurements. It uses the <a href="https://github.com/dkogan/feedgnuplot">feedGnuplot</a> Perl script to send the current data to <a href="http://www.gnuplot.info/">gnuplot</a>. In order to make it more convenient for users, preconfigured plots of interesting metrics are embedded into <code>likwid-perfscope</code>. Since the plot windows are normally closed directly after the execution of the monitored applications, <code>likwid-perfscope</code> waits until Ctrl+c is pressed.</p>
<h1>Options</h1>
<table class="doxtable">
<tr>
<th>Option </th><th>Description  </th></tr>
<tr>
<td>-h, --help </td><td>Print help message.  </td></tr>
<tr>
<td>-v, --version </td><td>Print version information.  </td></tr>
<tr>
<td>-a, --all </td><td>Print available predefined plot configurations for current processor.  </td></tr>
<tr>
<td>-d, --dump </td><td>Print measurements to stdout.  </td></tr>
<tr>
<td>-p, --plotdump </td><td>Use feedGnuplots feature to dump plot configuration and its data to stdout.  </td></tr>
<tr>
<td>-c &lt;arg&gt; </td><td>Defines the CPUs that should be measured<br/>
See <a class="el" href="likwid-pin.html#CPU_expressions">CPU_expressions</a> on the <a class="el" href="likwid-pin.html"><code>likwid-pin</code></a> page for information about the syntax.  </td></tr>
<tr>
<td>-C &lt;arg&gt; </td><td>Defines the CPUs that should be measured and pin the executable to the CPUs<br/>
See <a class="el" href="likwid-pin.html#CPU_expressions">CPU_expressions</a> on the <a class="el" href="likwid-pin.html"><code>likwid-pin</code></a> page for information about the syntax.  </td></tr>
<tr>
<td>-t, --time &lt;time&gt; </td><td>Specify the measurement time for each plot. &lt;time&gt; is handled over to <a class="el" href="likwid-perfctr.html"><code>likwid-perfctr</code></a> with the -t option. <br/>
Examples for &lt;time&gt; are 1s, 250ms, 500us.  </td></tr>
<tr>
<td>-g, --group &lt;arg&gt; </td><td>Specify a predefined plot with optional changes or an eventset with plot configuration. See <a class="el" href="likwid-perfscope.html#plot_configuration">plot_configuration</a> for details.  </td></tr>
<tr>
<td>-r, --range &lt;arg&gt; </td><td>Specify the amount of data points that should be visible in the plots. Often refered to as sliding window.  </td></tr>
<tr>
<td>--host &lt;arg&gt; </td><td>Connect to &lt;arg&gt; via ssh and execute likwid-perfctr and the application there. The plots are created on the local machine. Often used if measured on hosts without X11 or GnuPlot.  </td></tr>
</table>
<p><a class="anchor" id="plot_configuration"></a></p>
<h1>Plot configurations</h1>
<p><code>likwid-perfscope</code> extends the format of the eventset option of <a class="el" href="likwid-perfctr.html"><code>likwid-perfctr</code></a> to make it more conveniet for the users. It accepts either a plot configuration of interesting metrics which are embedded into <code>likwid-perfscope</code> or a custom eventset suitable for <a class="el" href="likwid-perfctr.html"><code>likwid-perfctr</code></a> extended by the plot configuration. A plot configuration can be set with key=value pairs separated by ':' and has to contain at least a definition of a formula for plotting. If specifyed a predefined plot configuration, the configuration can be changed. Options for the plot configuration: </p>
<table class="doxtable">
<tr>
<th>Option &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;  </th><th>Description  </th></tr>
<tr>
<td>title=&lt;string&gt;<br/>
TITLE=&lt;string&gt; </td><td>Use &lt;string&gt; as title for the plot. The string has to be quoted if it contains spaces. No ':' are allowed in the string  </td></tr>
<tr>
<td>xtitle=&lt;string&gt;<br/>
XTITLE=&lt;string&gt; </td><td>Use &lt;string&gt; as label for the x-axis. The default label is 'Time'. The string has to be quoted if it contains spaces. No ':' are allowed in the string  </td></tr>
<tr>
<td>ytitle=&lt;string&gt;<br/>
YTITLE=&lt;string&gt; </td><td>Use &lt;string&gt; as label for the left y-axis. The string has to be quoted if it contains spaces. No ':' are allowed in the string  </td></tr>
<tr>
<td>&lt;string&gt;=&lt;string&gt; </td><td>Use the first &lt;string&gt; as legend entry and the second &lt;string&gt; as input forumla for the plot. The result is printed over the run time. The names of the specified counters can be used as variables in the formula. Additional variables are 'time' for the measurement time and 'inverseClock' for the inverted clock frequency. No spaces are allowed in the formula.  </td></tr>
<tr>
<td>y2title=&lt;string&gt;<br/>
Y2TITLE=&lt;string&gt;<br/>
y2title=&lt;id-string&gt;<br/>
Y2TITLE=&lt;id-string&gt; </td><td>Use &lt;string&gt; as label for the right y-axis. If &lt;id-string&gt; is given, the formula with id is associated with the y2-axis. If used with predefined plot configurations, be aware that the formula 1 is part of the plot configuration. If no id is given, the y2-axis is associated with the last given formula. The string has to be quoted if it contains spaces. No ':' are allowed in the string  </td></tr>
</table>
<h1>Examples</h1>
<ul>
<li>
<code>likwid-perfscope -g L3_BAND -C 0-2 -t 1s ./a.out</code><br/>
 Pin the executable <code>./a.out</code> to CPUs 0,1,2 and use the predefined plot configuration <code>L3_BAND</code> The plot is updated ever second.  </li>
<li>
<code>likwid-perfscope -g L3_BAND:TITLE="My Title" -C S0:1 -t 500ms ./a.out</code><br/>
 Pin the executable <code>./a.out</code> to CPU 1 on Socket 0 and use the predefined plot configuration <code>L3_BAND</code> but change the title for the plot to "My Title".  </li>
<li>
<code>likwid-perfscope -g INSTR_RETIRED_ANY:FIXC0,CPU_CLK_UNHALTED_CORE:FIXC1,CPI=FIXC0/FIXC1:YTITLE="CPI" -C 0 --time 2s ./a.out</code><br/>
 Pin the executable <code>./a.out</code> to CPUs 0 and use the custom event set <code>INSTR_RETIRED_ANY:FIXC0,CPU_CLK_UNHALTED_CORE:FIXC1</code>. The last event set entry specifies custom plot options. The plotted formula is <code>FIXC0/FIXC1</code> and the plot title and legend entry is set to 'CPI'.  </li>
<li>
<code>likwid-perfscope -g L3_BAND,CPI=FIXC0/FIXC1:Y2TITLE="2-Cycles per Instruction" -C 0 --time 2s ./a.out</code><br/>
 Pin the executable <code>./a.out</code> to CPU 0 and use the predefined plot configuration <code>L3_BAND</code> to measure every 2 seconds. Additionally, a formula <code>FIXC0/FIXC1</code> with the name <code>CPI</code> is given. The right y-axis is associated to the given function and labeled with <code>Cycles per Instruction</code>. The formula ID 2 is not needed in this case as the default behavior is to associate the right y-axis to the last formula given.  </li>
</ul>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 5 2015 10:35:53 for LIKWID by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
