<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LIKWID: Intel&reg; Broadwell</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">LIKWID
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">LIKWID - Like I Knew What I Am Doing</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Intel&reg; Broadwell </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page is valid for Broadwell, Broadwell single socket server (Xeon D) and Broadwell EP/EN/EX. No Uncore support by now, no documentation is available for the Uncore counters of Broadwell</p>
<h1>Available performance monitors for the Intel&reg; Broadwell microarchitecture</h1>
<ul>
<li>
<a class="el" href="broadwell.html#BRD_FIXED">Fixed-purpose counters</a> </li>
<li>
<a class="el" href="broadwell.html#BRD_PMC">General-purpose counters</a> </li>
<li>
<a class="el" href="broadwell.html#BRD_THERMAL">Thermal counters</a> </li>
<li>
<a class="el" href="broadwell.html#BRD_POWER">Power measurement counters</a> </li>
</ul>
<h1>Counters available for each hardware thread</h1>
<p><a class="anchor" id="BRD_FIXED"></a></p>
<h2>Fixed-purpose counters</h2>
<p>Since the Core2 microarchitecture, Intel&reg; provides a set of fixed-purpose counters. Each can measure only one specific event. </p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>FIXC0 </td><td>INSTR_RETIRED_ANY  </td></tr>
<tr>
<td>FIXC1 </td><td>CPU_CLK_UNHALTED_CORE  </td></tr>
<tr>
<td>FIXC2 </td><td>CPU_CLK_UNHALTED_REF  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>anythread </td><td>N </td><td>Set bit 2+(index*4) in config register </td><td></td></tr>
<tr>
<td>kernel </td><td>N </td><td>Set bit (index*4) in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="BRD_PMC"></a></p>
<h2>General-purpose counters</h2>
<p>Commonly the Intel&reg; Broadwell microarchitecture provides 4 general-purpose counters consisting of a config and a counter register. </p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>PMC0 </td><td>*  </td></tr>
<tr>
<td>PMC1 </td><td>*  </td></tr>
<tr>
<td>PMC2 </td><td>*  </td></tr>
<tr>
<td>PMC3 </td><td>*  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>kernel </td><td>N </td><td>Set bit 17 in config register </td><td></td></tr>
<tr>
<td>anythread </td><td>N </td><td>Set bit 21 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>8 bit hex value </td><td>Set bits 24-31 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>in_transaction </td><td>N </td><td>Set bit 32 in config register </td><td>Only available if Intel&reg; Transactional Synchronization Extensions are available  </td></tr>
<tr>
<td>in_transaction_aborted </td><td>N </td><td>Set bit 33 in config register </td><td>Only counter PMC2 and only if Intel&reg; Transactional Synchronization Extensions are available  </td></tr>
</table>
<h3>Special handling for events</h3>
<p>The Intel&reg; Broadwell microarchitecture provides measureing of offcore events in PMC counters. Therefore the stream of offcore events must be filtered using the OFFCORE_RESPONSE registers. The Intel&reg; Broadwell microarchitecture has two of those registers. LIKWID defines some events that perform the filtering according to the event name. Although there are many bitmasks possible, LIKWID natively provides only the ones with response type ANY. Own filtering can be applied with the OFFCORE_RESPONSE_0_OPTIONS and OFFCORE_RESPONSE_1_OPTIONS events. Only for those events two more counter options are available: </p>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>match0 </td><td>16 bit hex value </td><td>Input value masked with 0x8FFF and written to bits 0-15 in the OFFCORE_RESPONSE register </td><td>Check the <a href="http://www.Intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html">Intel&reg; Software Developer System Programming Manual, Vol. 3, Chapter Performance Monitoring</a> and <a href="https://download.01.org/perfmon/BDW">https://download.01.org/perfmon/BDW</a>.  </td></tr>
<tr>
<td>match1 </td><td>22 bit hex value </td><td>Input value is written to bits 16-37 in the OFFCORE_RESPONSE register </td><td>Check the <a href="http://www.Intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html">Intel&reg; Software Developer System Programming Manual, Vol. 3, Chapter Performance Monitoring</a> and <a href="https://download.01.org/perfmon/BDW">https://download.01.org/perfmon/BDW</a>.  </td></tr>
</table>
<p>The event MEM_TRANS_RETIRED_LOAD_LATENCY is not available because it needs programming of PEBS registers. PEBS is a kernel-level measurement facility for performance monitoring. Although we can program it from user-space, the results are always 0.</p>
<p><a class="anchor" id="BRD_THERMAL"></a></p>
<h2>Thermal counter</h2>
<p>The Intel&reg; Haswell microarchitecture provides one register for the current core temperature. </p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>TMP0 </td><td>TEMP_CORE  </td></tr>
</table>
<h1>Counters available for one hardware thread per socket</h1>
<p><a class="anchor" id="BRD_POWER"></a></p>
<h2>Power counter</h2>
<p>The Intel&reg; Broadwell microarchitecture provides measurements of the current power consumption through the RAPL interface. </p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>PWR0 </td><td>PWR_PKG_ENERGY  </td></tr>
<tr>
<td>PWR1 </td><td>PWR_PP0_ENERGY  </td></tr>
<tr>
<td>PWR2 </td><td>PWR_PP1_ENERGY  </td></tr>
<tr>
<td>PWR3 </td><td>PWR_DRAM_ENERGY  </td></tr>
</table>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 25 2015 09:15:35 for LIKWID by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
