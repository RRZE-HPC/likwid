SHORT Packed AVX MFLOP/s

EVENTSET
FIXC0 INSTR_RETIRED_ANY
FIXC1 CPU_CLK_UNHALTED_CORE
FIXC2 CPU_CLK_UNHALTED_REF
PMC0  FP_ARITH_INST_RETIRED_256B_PACKED_DOUBLE
PMC1  FP_ARITH_INST_RETIRED_128B_PACKED_SINGLE
PMC2  FP_ARITH_INST_RETIRED_SCALAR_SINGLE
PMC3  FP_FLOPS_RETIRED_FP32

METRICS
Runtime (RDTSC) [s] time
Runtime unhalted [s] FIXC1*inverseClock
Clock [MHz]  1.E-06*(FIXC1/FIXC2)/inverseClock
CPI  FIXC1/FIXC0
Packed SP [MFLOP/s]  1.0E-06*((PMC3-(PMC1*4+PMC2)))/time
Packed DP [MFLOP/s]  1.0E-06*(PMC0*4.0)/time

LONG
Formulas:
Packed SP [MFLOP/s] = 1.0E-06*(FP_FLOPS_RETIRED_FP32 - (FP_ARITH_INST_RETIRED_SCALAR_SINGLE + FP_ARITH_INST_RETIRED_128B_PACKED_SINGLE*2))/runtime
Packed DP [MFLOP/s] = 1.0E-06*(FP_ARITH_INST_RETIRED_256B_PACKED_DOUBLE*4)/runtime
-
Packed 32b AVX FLOPs rates.
